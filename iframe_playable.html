<!DOCTYPE html>
<html>
<body>
<!-- çˆ¶é¡µé¢ -->
<iframe id="adIframe" src="https://13693763686.github.io/quant/playble.html" style="position:fixed; top:0; left:0; width:100%; height:100%; border:none;"></iframe>

<script>!function(){var r=document.createElement("div");r.style.cssText="position: fixed !important;top: 0 !important;left: 0 !important;right: 0 !important;z-index: 2147483647 !important;background-color: rgba(0, 255, 0, 0.9) !important;color: #000000 !important;font-size: 12px !important;line-height: 14px !important;padding: 5px !important;border-bottom: 2px solid red !important;max-height: 300px !important;overflow-y: auto !important;word-break: break-all !important;font-family: monospace !important;",r.innerHTML="<b>Console Ready (v2.0)</b>",(document.body||document.documentElement).appendChild(r),window.logToScreen=function(o){var n=new Date,e=n.getMinutes()+":"+n.getSeconds()+"."+n.getMilliseconds();r.innerHTML+='<br><span style="border-top:1px solid #999">['+e+"] "+o+"</span>",r.scrollTop=r.scrollHeight},window.onerror=function(o,n,e){return r.style.backgroundColor="rgba(255, 200, 0, 0.9)",window.logToScreen("âŒ <b>JS ERROR:</b> "+o+" (Line "+e+")"),!1}}(),function(){var n=console.error,e=console.warn,r=console.log;console.error=function(){var o=Array.from(arguments).join(" ");window.logToScreen("<b style='color:red'>[Sys Error]</b> "+o),n&&n.apply(console,arguments)},console.warn=function(){var o=Array.from(arguments).join(" ");window.logToScreen("<b style='color:blue'>[Sys Warn]</b> "+o),e&&e.apply(console,arguments)},console.log=function(){var o=Array.from(arguments).join(" ");window.logToScreen("[Log] "+o),r&&r.apply(console,arguments)}}(),window.safeNavigate=function(o){window.logToScreen("ğŸš€ <b>å‡†å¤‡è·³è½¬:</b> "+o),0===o.indexOf("http:")&&window.logToScreen("âš ï¸ <b>è­¦å‘Š:</b> æ£€æµ‹åˆ° HTTP åè®®ï¼ŒAndroid 9+ å¯èƒ½ç›´æ¥æ‹¦æˆª!");var n=Date.now();try{window.location.href=o}catch(o){window.logToScreen("âŒ ç›´æ¥æŠ¥é”™: "+o.message)}setTimeout(function(){var o=Date.now()-n;window.logToScreen("âŒ <b>è·³è½¬ç–‘ä¼¼å¤±è´¥!</b> (å·²è¿‡å» "+o+"ms)"),window.logToScreen("----------------------------------"),window.logToScreen("<b>å¯èƒ½åŸå› æ’æŸ¥:</b>"),window.logToScreen("1. æŸ¥çœ‹ä¸Šæ–¹æ˜¯å¦æœ‰ [Sys Error] "),window.logToScreen("2. DeepLink (Appæ²¡è£…/Schemeæœªæ³¨å†Œ)"),window.logToScreen("3. Sandbox é˜»æ­¢ (allow-top-navigation)"),window.logToScreen("4. Android æ˜æ–‡æµé‡é™åˆ¶ (Cleartext)"),document.querySelector("div[style*='z-index: 2147483647']").style.backgroundColor="rgba(255,0,0,0.9)"},1500)},setTimeout(function(){"undefined"!=typeof mraid?window.logToScreen("âœ… MRAID Detected. State: "+mraid.getState()):window.logToScreen("âš ï¸ MRAID Object Missing")},1e3)</script>

<script>
    var originalMraidOpen = mraid.open;
    mraid.open = function(url) {
        console.log("open ", url)
        originalMraidOpen.call(this, url);
    };

const iframe = document.getElementById('adIframe');

// ç›‘å¬ iframe å‘æ¥çš„æ¶ˆæ¯
window.addEventListener('message', (event) => {
    if(event.source === iframe.contentWindow) {
    	console.log(originalMraidOpen)
    	console.log(event.data)
        const msg = event.data;
        if(msg.type === 'mraid_call') {
            const method = msg.method; // 'open'
            const args = msg.args;     // ['https://example.com']
            
            if(typeof window.mraid !== 'undefined' && typeof window.mraid[method] === 'function') {
            	console.log(window.mraid[method])            	
                window.mraid[method](...args);
            } else {
                console.log(`çˆ¶é¡µé¢ mraid ä¸å­˜åœ¨æˆ–æ²¡æœ‰ ${method} æ–¹æ³•`);
            }
        }
    }
});
</script>
</body>
</html>
